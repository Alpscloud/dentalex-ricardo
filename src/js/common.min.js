$(document).ready(function(){function t(){var t=$(document).scrollTop(),s=($(this).scrollTop(),$(window).height());a.forEach(function(o){var r=$(o).offset().top;$(o).outerHeight();t>r-s&&$(o).addClass("is-animated")})}function s(t){var s=$(window).scrollTop(),o=$(t).attr("data-parallax-speed"),r=$(t).attr("data-parallax-direction");"horisontal-right"===r?$(t).css({transform:"translate3d("+s*o+"px, 0, 0)","-webkit-transform":"translate3d("+s*o+"px, 0, 0)","-o-transform":"translate3d("+s*o+"px, 0, 0)","-moz-transform":"translate3d("+s*o+"px, 0, 0)"}):"horisontal-left"===r?$(t).css({transform:"translate3d("+-s*o+"px, 0, 0)","-webkit-transform":"translate3d("+-s*o+"px, 0, 0)","-o-transform":"translate3d("+-s*o+"px, 0, 0)","-moz-transform":"translate3d("+-s*o+"px, 0, 0)"}):"vertical-top"===r?$(t).css({transform:"translate3d(0, "+-s*o+"px, 0)","-moz-transform":"translate3d(0, "+-s*o+"px, 0)","-ms-transform":"translate3d(0, "+-s*o+"px, 0)","-o-transform":"translate3d(0, "+-s*o+"px, 0)","-webkit-transform":"translate3d(0, "+-s*o+"px, 0)"}):"vertical-bottom"===r&&$(t).css({transform:"translate3d(0, "+s*o+"px, 0)","-moz-transform":"translate3d(0, "+s*o+"px, 0)","-ms-transform":"translate3d(0, "+s*o+"px, 0)","-o-transform":"translate3d(0, "+s*o+"px, 0)","-webkit-transform":"translate3d(0, "+s*o+"px, 0)"})}var o,r=$("body");r.width();$(window).on("scroll",function(){clearTimeout(o),r.hasClass("disable-hover")||r.addClass("disable-hover"),o=setTimeout(function(){r.removeClass("disable-hover")},200)}),$(".js-portfolio-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:$(".js-portfolio-slider-btn-prev"),nextArrow:$(".js-portfolio-slider-btn-next"),fade:!1,asNavFor:".js-portfolio-thumbnails",infinite:!0}),$(".js-portfolio-thumbnails").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,asNavFor:".js-portfolio-slider",dots:!1,arrows:!1,centerMode:!1,vertical:!0,focusOnSelect:!0});n=0;$(".title span").each(function(){$(this).css("transition-delay",n+"s"),n+=.15}),$("[data-fancybox]").fancybox({gallery:!0,loop:!0});var a=$(".js-animation-block").toArray();t(),$(window).on("scroll",function(){t()}),gsap.registerPlugin(ScrollTrigger),TweenLite.defaultEase=Power0.easeNone;gsap.utils.toArray(".program-progress__line");var e=gsap.timeline({scrollTrigger:{trigger:".js-program-step-1",start:"top top",end:"bottom top",scrub:!0,toggleClass:"is-active",markers:!1}}),i=gsap.timeline({scrollTrigger:{trigger:".js-program-step-2",start:"top 20px top",end:"bottom top",scrub:!0,toggleClass:"is-active",markers:!1}}),l=gsap.timeline({scrollTrigger:{trigger:".js-program-step-3",start:"top 20px top",end:"bottom top",scrub:!0,toggleClass:"is-active",markers:!1}});e.from($(".js-program-step-1 .program-progress__line"),1,{y:"-101%"}),i.from($(".js-program-step-2 .program-progress__line"),1,{y:"-101%"}),l.from($(".js-program-step-3 .program-progress__line"),1,{y:"-101%"});var n=0;$(".title span").each(function(){$(this).css("transition-delay",n+"s"),n+=.15}),$(".sect-title, .sect-uptitle, .sect-title-sm, .price-block__title").each(function(){var t=$(this),s=(t.text().split(""),0);t.find("span").each(function(){$(this).css("transition-delay",s+"s"),s+=.12})});var d=0;$(".gallery-item").each(function(){$(this).css("transition-delay",d+"s"),d+=.12}),$(window).on("scroll",function(t){$(this).scrollTop();$(".js-item-parallax").each(function(){s($(this))})})}),$(window).on("load",function(){$("body").addClass("is-loaded"),setTimeout(function(){$(".promo-block .decor-square").addClass("is-animated"),$(".promo-block .promo-block__imgs-img").addClass("is-animated"),$(".promo-block .promo-block__imgs-main").addClass("is-animated"),$(".promo-block .city").addClass("is-animated"),$(".promo-block .form__wrapper").addClass("is-animated"),$(".promo-block .course-info__item").addClass("is-animated"),$(".promo-block .title").addClass("is-animated")},800)});