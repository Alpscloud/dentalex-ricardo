$(document).ready(function(){function s(){var s=$(document).scrollTop(),t=($(this).scrollTop(),$(window).height());e.forEach(function(o){var a=$(o).offset().top;$(o).outerHeight();s>a-t&&$(o).addClass("is-animated")})}function t(s){var t=$(window).scrollTop(),o=$(s).attr("data-parallax-speed"),a=$(s).attr("data-parallax-direction");"horisontal-right"===a?$(s).css({transform:"translate3d("+t*o+"px, 0, 0)","-webkit-transform":"translate3d("+t*o+"px, 0, 0)","-o-transform":"translate3d("+t*o+"px, 0, 0)","-moz-transform":"translate3d("+t*o+"px, 0, 0)"}):"horisontal-left"===a?$(s).css({transform:"translate3d("+-t*o+"px, 0, 0)","-webkit-transform":"translate3d("+-t*o+"px, 0, 0)","-o-transform":"translate3d("+-t*o+"px, 0, 0)","-moz-transform":"translate3d("+-t*o+"px, 0, 0)"}):"vertical-top"===a?$(s).css({transform:"translate3d(0, "+-t*o+"px, 0)","-moz-transform":"translate3d(0, "+-t*o+"px, 0)","-ms-transform":"translate3d(0, "+-t*o+"px, 0)","-o-transform":"translate3d(0, "+-t*o+"px, 0)","-webkit-transform":"translate3d(0, "+-t*o+"px, 0)"}):"vertical-bottom"===a&&$(s).css({transform:"translate3d(0, "+t*o+"px, 0)","-moz-transform":"translate3d(0, "+t*o+"px, 0)","-ms-transform":"translate3d(0, "+t*o+"px, 0)","-o-transform":"translate3d(0, "+t*o+"px, 0)","-webkit-transform":"translate3d(0, "+t*o+"px, 0)"})}var o,a=$("body");a.width();$(window).on("scroll",function(){clearTimeout(o),a.hasClass("disable-hover")||a.addClass("disable-hover"),o=setTimeout(function(){a.removeClass("disable-hover")},200)}),$(".js-smooth-scroll-link").on("click",function(s){s.preventDefault();var t=$(this).attr("href"),o=$(t).offset().top;$(".js-menu").hasClass("is-opened")&&($(".js-menu").removeClass("is-opened"),$("html").removeClass("is-fixed")),$("html, body").animate({scrollTop:o},350)}),$(".js-open-menu-btn").on("click",function(s){s.preventDefault(),$(".js-menu").addClass("is-opened"),$("html").addClass("is-fixed")}),$(".js-close-menu-btn").on("click",function(s){s.preventDefault(),$(".js-menu").removeClass("is-opened"),$("html").removeClass("is-fixed")}),$(".js-open-popup-form-btn").on("click",function(s){s.preventDefault(),$(".js-popup-form").fadeIn(300),$("html").addClass("is-fixed")}),$(".js-close-popup-btn").on("click",function(s){s.preventDefault(),$(this).parents(".js-popup").fadeOut(300),$("html").removeClass("is-fixed")}),$(".popup__overflow").on("click",function(s){s.stopPropagation();var t=$(this).find(".popup__body");t.is(s.target)||0!==t.has(s.target).length||($("html").removeClass("is-fixed"),$(".js-popup").fadeOut(300))}),$(".js-portfolio-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:$(".js-portfolio-slider-btn-prev"),nextArrow:$(".js-portfolio-slider-btn-next"),fade:!1,asNavFor:".js-portfolio-thumbnails",infinite:!0}),$(".js-portfolio-thumbnails").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,asNavFor:".js-portfolio-slider",dots:!1,arrows:!1,centerMode:!1,vertical:!0,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{vertical:!1,asNavFor:".js-portfolio-slider",infinite:!0,slidesToShow:4,focusOnSelect:!0}}]});l=0;$(".title span").each(function(){$(this).css("transition-delay",l+"s"),l+=.15}),$("[data-fancybox]").fancybox({gallery:!0,loop:!0});var e=$(".js-animation-block").toArray();s(),$(window).on("scroll",function(){s()}),gsap.registerPlugin(ScrollTrigger),TweenLite.defaultEase=Power0.easeNone;gsap.utils.toArray(".program-progress__line");var r=gsap.timeline({scrollTrigger:{trigger:".js-program-step-1",start:"top top",end:"bottom top",scrub:!0,toggleClass:"is-active",markers:!1}}),i=gsap.timeline({scrollTrigger:{trigger:".js-program-step-2",start:"top 20px top",end:"bottom top",scrub:!0,toggleClass:"is-active",markers:!1}}),n=gsap.timeline({scrollTrigger:{trigger:".js-program-step-3",start:"top 20px top",end:"bottom top",scrub:!0,toggleClass:"is-active",markers:!1}});r.from($(".js-program-step-1 .program-progress__line"),1,{y:"-101%"}),i.from($(".js-program-step-2 .program-progress__line"),1,{y:"-101%"}),n.from($(".js-program-step-3 .program-progress__line"),1,{y:"-101%"});var l=0;$(".title span").each(function(){$(this).css("transition-delay",l+"s"),l+=.15}),$(".sect-title, .sect-uptitle, .sect-title-sm, .price-block__title").each(function(){var s=$(this),t=(s.text().split(""),0);s.find("span").each(function(){$(this).css("transition-delay",t+"s"),t+=.12})});var p=0;$(".gallery-item").each(function(){$(this).css("transition-delay",p+"s"),p+=.12}),$(window).on("scroll",function(s){$(this).scrollTop();$(".js-item-parallax").each(function(){t($(this))})}),$(".js-required-input").on("focus",function(){$(this).hasClass("is-error")&&$(this).removeClass("is-error")}),$("form").submit(function(s){s.preventDefault();var t=$(this);if(inputs=t.find(".js-required-input"),flag=!0,$(inputs).each(function(){$(this).val()&&""!=$(this).val()||($(this).addClass("is-error"),flag=!1)}),!flag)return!1;$.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){$(".js-popup-form").fadeOut(300),$(".js-popup-thanks").fadeIn(300),$("html").addClass("is-fixed"),setTimeout(function(){$(".js-popup-thanks").fadeOut(300),$("html").removeClass("is-fixed"),t.trigger("reset")},2500)})})}),$(window).on("load",function(){$("body").addClass("is-loaded"),setTimeout(function(){$(".promo-block .decor-square").addClass("is-animated"),$(".promo-block .promo-block__imgs-img").addClass("is-animated"),$(".promo-block .promo-block__imgs-main").addClass("is-animated"),$(".promo-block .city").addClass("is-animated"),$(".promo-block .form__wrapper").addClass("is-animated"),$(".promo-block .course-info__item").addClass("is-animated"),$(".promo-block .title").addClass("is-animated"),$(".promo-block .mobile-btn").addClass("is-animated"),$(".promo-block .course-info").addClass("is-animated")},800)});